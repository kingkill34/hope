<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.inng.hope.dao.UserDao"><!-- 获取用户集合 -->
	<select id="getList" resultType="user">
		select id,
		username,
		password,
		reg_time
		from user
		order by reg_time desc
		limit #{pagination},#{pageSize}
		<!-- 这里sql结尾不能加分号，否则报“ORA-00911”的错误 -->
	</select><!-- 获取用户数量count -->
	<select id="count" resultType="Integer">
		select count(id) from user
	</select><!-- 登录 -->
	<select id="login" parameterType="user" resultType="user">
		select id,nickName,loginName,loginPassword from user where loginName =
		#{loginName}
	</select><!-- 修改密码 -->
	<update id="changePassword">
		update user set password = #{newPassword} where password=#{oldPassword} and
		id=#{id}
	</update><!-- 删除用户 -->
	<delete id="delUserById" parameterType="Integer">
		delete from user where id=#{id}
	</delete>
	<insert id="addUser" parameterType="User">
		insert into user set userName = #{userName}, password = #{password} ,
		reg_time =#{reg_time}
	</insert>
</mapper>